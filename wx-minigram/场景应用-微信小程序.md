# 微信小程序的“场景值”

以下是自己的理解，如果有什么理解错误的地方，欢迎指教。

### 一、为什么要用，用来干啥

为了统计用户信息，例如搞抽奖活动，参与这个活动的用户是通过什么渠道参与的，线上还是线下，通过哪个入口等等，然后统计这些数据，便于制定更好的营销策略。

## 二、怎样用？

直接小程序中的 App 的 onlaunch 和 onshow 中获取上述场景值，部分场景值下还可以获取来源应用、公众号或小程序的appId。

## 三、场景来源（导流渠道，就是用户怎么进入到小程序中去）

#### 1.支持公众号绑定相关小程序，公众号和小程序新增了三种连接方式：

①公众号可以把自己关联的小程序放在自定义菜单中，用户点击可直达小程序。

②公众号模版消息可打开相关小程序。通过公众号，公众号运营者可以推送关联的小程序页面了。

③公众号绑定相关小程序时，可选择给粉丝下发通知。

​      很明显，公众号开始给小程序导流了。小程序也获得了更稳定的入口。

#### 2.兼容线下二维码，原有二维码也能进小程序

#### 3.APP和小程序也有了新的连接方式：APP链接分享到微信，点开就是小程序。

这是步针对应用商店的有趣的进攻策略。举例而言，你的朋友在APP端打开大众点评上某家餐厅，通过微信分享给你，以往点开后你会跳转到APP，但如今你会直接跳转到大众点评的小程序。可以说，小程序进一步在微信生态里，接手或者说收复了原生APP的流量。

### 四、场景值

当前支持的场景值有：

| 场景值ID | 说明                                       |
| ----- | ---------------------------------------- |
| 1001  | 发现栏小程序主入口                                |
| 1005  | 顶部搜索框的搜索结果页                              |
| 1006  | 发现栏小程序主入口搜索框的搜索结果页                       |
| 1007  | 单人聊天会话中的小程序消息卡片                          |
| 1008  | 群聊会话中的小程序消息卡片                            |
| 1011  | 扫描二维码                                    |
| 1012  | 长按图片识别二维码                                |
| 1013  | 手机相册选取二维码                                |
| 1014  | 小程序模版消息                                  |
| 1017  | 前往体验版的入口页                                |
| 1019  | 微信钱包                                     |
| 1020  | 公众号 profile 页相关小程序列表                     |
| 1022  | 聊天顶部置顶小程序入口                              |
| 1023  | 安卓系统桌面图标                                 |
| 1024  | 小程序 profile 页                            |
| 1025  | 扫描一维码                                    |
| 1026  | 附近小程序列表                                  |
| 1027  | 顶部搜索框搜索结果页“使用过的小程序”列表                    |
| 1028  | 我的卡包                                     |
| 1029  | 卡券详情页                                    |
| 1030  | 自动化测试下打开小程序                              |
| 1031  | 长按图片识别一维码                                |
| 1032  | 手机相册选取一维码                                |
| 1034  | 微信支付完成页                                  |
| 1035  | 公众号自定义菜单                                 |
| 1036  | App 分享消息卡片                               |
| 1037  | 小程序打开小程序                                 |
| 1038  | 从另一个小程序返回                                |
| 1039  | 摇电视                                      |
| 1042  | 添加好友搜索框的搜索结果页                            |
| 1043  | 公众号模板消息                                  |
| 1044  | 带 shareTicket 的小程序消息卡片（[详情](https://mp.weixin.qq.com/debug/wxadoc/dev/api/share.html#获取更多转发信息)) |
| 1047  | 扫描小程序码                                   |
| 1048  | 长按图片识别小程序码                               |
| 1049  | 手机相册选取小程序码                               |
| 1052  | 卡券的适用门店列表                                |
| 1053  | 搜一搜的结果页                                  |
| 1054  | 顶部搜索框小程序快捷入口                             |
| 1056  | 音乐播放器菜单                                  |
| 1057  | 钱包中的银行卡详情页                               |
| 1058  | 公众号文章                                    |
| 1059  | 体验版小程序绑定邀请页                              |
| 1064  | 微信连Wi-Fi状态栏                              |
| 1067  | 公众号文章广告                                  |
| 1068  | 附近小程序列表广告                                |
| 1071  | 钱包中的银行卡列表页                               |
| 1072  | 二维码收款页面                                  |
| 1073  | 客服消息列表下发的小程序消息卡片                         |
| 1074  | 公众号会话下发的小程序消息卡片                          |
| 1078  | 连Wi-Fi成功页                                |
| 1089  | 微信聊天主界面下拉                                |
| 1090  | 长按小程序右上角菜单唤出最近使用历史                       |
| 1092  | 城市服务入口                                   |



